<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        {
           { //    let [a, b, c] = [1, 2, 3];
            let [head, ...tail] = [1, 2, 3, 4]; //tail [2, 3, 4]
            let [a, [b], d] = [1, [2, 3], 4]; //b: 2
            }

            //只有赋值的为undefined 默认值才会生效
             {   
                let [m, n = 1] = [4, 2] // n:2
                function f() {
                    console.log('aaa');
                }
                let [x = f()] = [1]; //x :1
            }

            //对象解构
            {
                const {log} = console; // 将 console 对象中的log方法 赋值给log
                const {log: aa} = console; // 将 console 对象中的log方法 赋值给aa   
                //{对象的属性:变量}=对象
                //aa(1)

                let {foo: baz} = {foo: 'aaa',bar: 'bbb'}; 
                //  baz:"aaa"

            }



        }
    </script>

    <script>
        {
            // 使用循环类的解构  
            //   第一次：[1,2]=[a,b] 
            //   第二次：[3,4]=[a,b]
            let arr = [[1, 2],[3, 4]].map(([a, bx]) => {
                console.log(a); //  1 3
                console.log(bx); //  2 4   
                return a + bx
            });
            console.log(arr); // 3  7      

            // [1,2]=[s]
            // [3,4]=[s]
            let arr1 = [
                [1, 2],
                [3, 4]
            ].map(([s]) => {
                console.log(s); //  1  3
                return s
            });
            console.log(arr1); // 1  3 
        }
    </script>

    <script>
        {
            //1. 交换变量
            {
                let x = 1
                let y = 2[x, y] = [y, x]
            }

            //2.函数返回多个值 对象也可以
            {
                function arr() {
                    return [1, 2.3, 4]
                }
                let [a, b, c, d] = arr()
            }

            //3. 函数参数
            {
                function f([a, b, c, d]) {}
                f([1, 2, 3, 4])
            }

            //4.Map的遍历
            {
                const map = new Map()
                map.set('1', 'hello')
                map.set('2', 'world')
                for (let [key, value] of map) {
                    console.log(key + ':' + value);
                }
            }
        }
    </script>

    <script>
        {
            

            //函数默认值
            {
                let x = 99;
                function foo(p = x + 1) {
                    console.log(p);
                }
                /*
                参数p的默认值是x + 1。这时，
                每次调用函数foo()，都会重新计算x + 1，而不是默认p等于 100。
                */
                foo() // 100
                x = 100;
                foo() // 101
            }
            //解构与函数默认值
            {
               {
                function fn({x,y = 5}) {
                    console.log(x, y);
                }
                fn({}) // undefined 5
            //  fn()  报错    
                fn({ x: 1})  // 1  5

                /*
                只有当函数foo()的参数是一个对象时，变量x和y才会通过解构赋值生成。
                如果函数foo()调用时没提供参数，变量x和y就不会生成，从而报错。
                */
               }

               //修改
               {
                function fn({x,y = 5}={}) {
                    console.log(x, y);
                }
                fn({}) // undefined 5
                fn()   // undefined 5  
                fn({ x: 1})  // 1  5

                //为函数的参数对象提供默认值  让参数成为函数的默认值。
                // fn() 调用时没有参数 所以使用默认值

               }

            }
        }
    </script>
</body>

</html>